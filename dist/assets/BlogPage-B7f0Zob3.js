import{_ as g,o as a,c as o,j as m,r as b,w as T,k as u,l as y,T as k,F as h,b as p,m as F,t as r,q as f,a as l,n as x}from"./index-DUNn2dFr.js";import{q as P}from"./notion-BliCt5hQ.js";const L="/assets/PF-DLXFtJSh.png",w={},C={class:"card-widget pf-profile"},D=m('<div class="card-content"><div class="author-tags-group"><div class="author-tags-group-item">前端开发者 &amp; 技术博主</div></div><div class="author-avatar-group"><div class="avatar-img"><img src="'+L+'" alt="Profile" class="avatar"></div></div><div class="author-info__description-group"><div class="author-info__description"> 西安交通大学 PhD 在读， 本博客分享<b>科研、编程与设计</b>相关的内容， 主要涉及前端开发、数据可视化、机器学习等领域。 <br></div><div class="author-info__description"> 分享我的学习与成长经验，希望对你有所帮助。 <br> 欢迎交流与合作 </div></div><div class="author-info__bottom-group"><div class="author-info__bottom-group-left"><div class="author-info__name">PalpitatingForever</div><div class="author-info__desc">&quot;Design and Love Never Fail.&quot;</div></div><div class="author-info__social-links"><a href="" class="social-link" target="_blank" rel="external nofollow" title="Bilibili"><i class="iconfont icon-bilibili-line"></i></a><a href="" class="social-link" target="_blank" rel="external nofollow" title="GitHub"><i class="iconfont icon-github"></i></a></div></div></div>',1),q=[D];function B(s,i){return a(),o("div",C,q)}const N=g(w,[["render",B]]),S={class:"tags-filter-container"},V=["onClick"],$={__name:"TagsFilter",props:{modelValue:{type:Array,default:()=>[]},availableTags:{type:Array,required:!0}},emits:["filter"],setup(s,{emit:i}){const n=s,v=i,e=b([...n.modelValue]),c=d=>{const _=e.value.indexOf(d);_>-1?e.value.splice(_,1):e.value.push(d),v("filter",e.value)};return T(()=>{e.value=[...n.modelValue]}),(d,_)=>(a(),o("div",S,[u(k,{name:"tag-fade",tag:"div",class:"tags-list"},{default:y(()=>[(a(!0),o(h,null,p(s.availableTags,t=>(a(),o("button",{key:t,class:F(["tag-item",{active:e.value.includes(t)}]),onClick:Q=>c(t)},r(t),11,V))),128))]),_:1})]))}},E=g($,[["__scopeId","data-v-aefcfb59"]]),I={components:{TagsFilter:E,CardProfile:N},data(){return{posts:[],allTags:[],selectedTags:[],isLoading:!0,error:null}},computed:{filteredPosts(){return this.selectedTags.length?this.posts.filter(s=>this.selectedTags.every(i=>s.tags.includes(i))):this.posts}},async mounted(){this.isLoading=!0,this.error=null;try{const s=await P();console.log("Notion Response in Component:",s),this.posts=s;const i=new Set(this.posts.flatMap(n=>n.tags||[]));this.allTags=[...i]}catch(s){console.error("Error fetching or processing Notion data:",s),this.error="Failed to load blog posts."}finally{this.isLoading=!1}},methods:{formatDate(s){if(!s)return"";const i={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString(void 0,i)},handleFilter(s){this.selectedTags=s}}},j={class:"blog-container"},z={class:"sidebar"},A={class:"blog-content"},G={key:0,class:"post-list"},H={class:"post-content"},J={class:"excerpt"},M={class:"meta"},O={class:"tags"},R={key:1,class:"loading"},X={key:2,class:"error"};function K(s,i,n,v,e,c){const d=f("CardProfile"),_=f("TagsFilter");return a(),o("section",j,[l("aside",z,[u(d),u(_,{availableTags:e.allTags,onFilter:c.handleFilter},null,8,["availableTags","onFilter"])]),l("main",A,[!e.isLoading&&!e.error?(a(),o("div",G,[(a(!0),o(h,null,p(c.filteredPosts,t=>(a(),o("article",{key:t.id,class:"post-item"},[l("div",{class:"post-image",style:x({backgroundImage:`url(${t.coverImage})`})},null,4),l("div",H,[l("h3",null,r(t.title),1),l("p",J,r(t.excerpt),1),l("div",M,[l("time",null,r(c.formatDate(t.lastEditedTime)),1),l("span",O,r(t.tags.join(", ")),1)])])]))),128))])):e.isLoading?(a(),o("div",R,"Loading...")):(a(),o("div",X,r(e.error),1))])])}const Y=g(I,[["render",K],["__scopeId","data-v-41b9b450"]]);export{Y as default};
