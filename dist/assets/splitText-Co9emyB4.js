var j=Object.defineProperty;var z=(s,e,t)=>e in s?j(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var w=(s,e,t)=>(z(s,typeof e!="symbol"?e+"":e,t),t),I=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var c=(s,e,t)=>(I(s,e,"read from private field"),t?t.call(s):e.get(s)),l=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)};var i=(s,e,t)=>(I(s,e,"access private method"),t);import{r as S,g as F,h as G,o as J,c as Q,a as v,i as H}from"./index-DUNn2dFr.js";const X={class:"marquee"},Z=v("span",null,"My Works",-1),O=v("span",null,"My Works",-1),ee=v("span",null,"My Works",-1),te=v("span",null,"My Works",-1),se=v("span",null,"My Works",-1),ne=[Z,O,ee,te,se],ie={__name:"marqueeComponent",setup(s){const e=S(null);let t=null,r=null,a=null;const n=S(null),o=S(!0),d=()=>{if(!e.value)return;e.value.children.length<=5&&(e.value.innerHTML+=e.value.innerHTML),t=H.fromTo(e.value,{xPercent:-50},{xPercent:0,duration:20,ease:"none",repeat:-1,paused:!0,force3D:!0}),r=H.fromTo(e.value,{xPercent:0},{xPercent:-50,duration:20,ease:"none",repeat:-1,paused:!0,force3D:!0}),a=o.value?t:r;const u=o.value?0:1;a.progress(u).play()},g=()=>{const u=window.scrollY,_=u>n.value;n.value=u,_!==o.value&&A(_),o.value=_},A=u=>{const _=a.progress();a.pause();const D=u?t:r;D.progress(1-_),D.play(),a=D};return F(()=>{d(),window.addEventListener("scroll",g),console.log("Marquee component mounted")}),G(()=>{console.log("Marquee component unmounted"),window.removeEventListener("scroll",g),t==null||t.kill(),r==null||r.kill()}),(u,_)=>(J(),Q("div",X,[v("div",{class:"marquee-inner",ref_key:"marqueeInnerRef",ref:e},ne,512)]))}};var h,p,E,k,B,f,C,M,Y,T,N,x,R,$,K,L,U,m,b,q,V,P,oe,y,W;class ae{constructor(e){l(this,k);l(this,f);l(this,M);l(this,T);l(this,x);l(this,$);l(this,L);l(this,m);l(this,q);l(this,P);l(this,y);l(this,h,{charClass:"aki__char",wordClass:"aki__word",lineClass:"aki__line",globalClass:"aki_wrapper",emptySpaceName:"__AKI__EMPTY__SPACE__"});l(this,p,[]);w(this,"chars",[]);l(this,E,[]);w(this,"words",[]);w(this,"lines",[]);this.init(e),this.target=null,this.textContent=null}init(e){if(i(this,k,B).call(this,e))this.target=e,i(this,m,b).call(this);else if(e!==""){const t=document.querySelector(`${e}`);t?(this.target=t,i(this,m,b).call(this)):i(this,y,W).call(this,`can't found %c${e}%c in DOM tree!`)}else i(this,y,W).call(this,"selector is empty! %cplease give a valid%c selector!");i(this,q,V).call(this,this.target),i(this,L,U).call(this)}}h=new WeakMap,p=new WeakMap,E=new WeakMap,k=new WeakSet,B=function(e){try{return e instanceof HTMLElement}catch{return typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object"}},f=new WeakSet,C=function(e,t="",r={},...a){const n=document.createElement(e);n.classList.add(...a),n.innerHTML=t;for(const[o,d]of Object.entries(r))n.setAttribute(o,d);return n},M=new WeakSet,Y=function(){`${this.textContent}`.split("").forEach(t=>{const r=i(this,f,C).call(this,"div",`${t}`,{style:"position:relative; display:inline-block;"},`${c(this,h).globalClass}`,`${c(this,h).charClass}`);c(this,p).push(t===" "?" ":r),this.chars.push(r)}),c(this,p).push(" ")},T=new WeakSet,N=function(){let e=0;c(this,p).forEach((t,r)=>{if(t===" "){const a=c(this,p).slice(e,r).filter(o=>o!==" "),n=i(this,f,C).call(this,"div","",{style:"position:relative; display:inline-block;"},`${c(this,h).globalClass}`,`${c(this,h).wordClass}`);a.forEach(o=>{n.append(o)}),this.words.push(n),c(this,E).push(n," "),e=r}})},x=new WeakSet,R=function(){let e=0,t=[];const r=()=>{t.forEach(a=>{const n=i(this,f,C).call(this,"div","",{style:"position:relative; display:inline-block"},`${c(this,h).globalClass}`,`${c(this,h).lineClass}`);a.forEach(o=>{n.append(o),n.append(" ")}),this.lines.push(n),this.target.append(n)})};this.words.reduce((a,n,o)=>{const d=n.offsetTop;if(a!==d&&a!==null||o===this.words.length-1){const g=o===this.words.length-1?o+1:o,A=this.words.slice(e,g);t.push(A),e=o}return d},null),r()},$=new WeakSet,K=function(){this.words.forEach(e=>{this.target.append(e),this.target.append(" ")}),i(this,x,R).call(this)},L=new WeakSet,U=function(){i(this,M,Y).call(this),i(this,T,N).call(this),i(this,$,K).call(this)},m=new WeakSet,b=function(){this.textContent=this.target.textContent},q=new WeakSet,V=function(e){e.innerHTML=""},P=new WeakSet,oe=function(e){console.error(`${e}`,"color:red","color:inherit")},y=new WeakSet,W=function(e){throw e.includes("%c")?console.error(`${e}`,"color:red","color:inherit"):console.error(`${e}`),"SplitTextException! ⬆️"};export{ae as S,ie as _};
