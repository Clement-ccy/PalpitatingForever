import{i as v,S as F,_ as M,o as p,c as f,a as n,F as A,b as P,m as k,t as u,s as $,n as L,q as B,k as X}from"./index-DUNn2dFr.js";/*!
 * ScrollToPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var a,H,m,d,g,V,j,I,G=function(){return typeof window<"u"},R=function(){return a||G()&&(a=window.gsap)&&a.registerPlugin&&a},D=function(e){return typeof e=="string"},E=function(e){return typeof e=="function"},S=function(e,t){var i=t==="x"?"Width":"Height",o="scroll"+i,r="client"+i;return e===m||e===d||e===g?Math.max(d[o],g[o])-(m["inner"+i]||d[r]||g[r]):e[o]-e["offset"+i]},w=function(e,t){var i="scroll"+(t==="x"?"Left":"Top");return e===m&&(e.pageXOffset!=null?i="page"+t.toUpperCase()+"Offset":e=d[i]!=null?d:g),function(){return e[i]}},q=function(e,t,i,o){if(E(e)&&(e=e(t,i,o)),typeof e!="object")return D(e)&&e!=="max"&&e.charAt(1)!=="="?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};var r={},s;for(s in e)r[s]=s!=="onAutoKill"&&E(e[s])?e[s](t,i,o):e[s];return r},U=function(e,t){if(e=V(e)[0],!e||!e.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var i=e.getBoundingClientRect(),o=!t||t===m||t===g,r=o?{top:d.clientTop-(m.pageYOffset||d.scrollTop||g.scrollTop||0),left:d.clientLeft-(m.pageXOffset||d.scrollLeft||g.scrollLeft||0)}:t.getBoundingClientRect(),s={x:i.left-r.left,y:i.top-r.top};return!o&&t&&(s.x+=w(t,"x")(),s.y+=w(t,"y")()),s},K=function(e,t,i,o,r){return!isNaN(e)&&typeof e!="object"?parseFloat(e)-r:D(e)&&e.charAt(1)==="="?parseFloat(e.substr(2))*(e.charAt(0)==="-"?-1:1)+o-r:e==="max"?S(t,i)-r:Math.min(S(t,i),U(e,t)[i]-r)},O=function(){a=R(),G()&&a&&typeof document<"u"&&document.body&&(m=window,g=document.body,d=document.documentElement,V=a.utils.toArray,a.config({autoKillThreshold:7}),j=a.config(),H=1)},T={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(e){a=e,O()},init:function(e,t,i,o,r){H||O();var s=this,c=a.getProperty(e,"scrollSnapType");s.isWin=e===m,s.target=e,s.tween=i,t=q(t,o,e,r),s.vars=t,s.autoKill=!!t.autoKill,s.getX=w(e,"x"),s.getY=w(e,"y"),s.x=s.xPrev=s.getX(),s.y=s.yPrev=s.getY(),I||(I=a.core.globals().ScrollTrigger),a.getProperty(e,"scrollBehavior")==="smooth"&&a.set(e,{scrollBehavior:"auto"}),c&&c!=="none"&&(s.snap=1,s.snapInline=e.style.scrollSnapType,e.style.scrollSnapType="none"),t.x!=null?(s.add(s,"x",s.x,K(t.x,e,"x",s.x,t.offsetX||0),o,r),s._props.push("scrollTo_x")):s.skipX=1,t.y!=null?(s.add(s,"y",s.y,K(t.y,e,"y",s.y,t.offsetY||0),o,r),s._props.push("scrollTo_y")):s.skipY=1},render:function(e,t){for(var i=t._pt,o=t.target,r=t.tween,s=t.autoKill,c=t.xPrev,h=t.yPrev,_=t.isWin,N=t.snap,Y=t.snapInline,y,x,W,C,b;i;)i.r(e,i.d),i=i._next;y=_||!t.skipX?t.getX():c,x=_||!t.skipY?t.getY():h,W=x-h,C=y-c,b=j.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),s&&(!t.skipX&&(C>b||C<-b)&&y<S(o,"x")&&(t.skipX=1),!t.skipY&&(W>b||W<-b)&&x<S(o,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(r.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(r,t.vars.onAutoKillParams||[]))),_?m.scrollTo(t.skipX?y:t.x,t.skipY?x:t.y):(t.skipY||(o.scrollTop=t.y),t.skipX||(o.scrollLeft=t.x)),N&&(e===1||e===0)&&(x=o.scrollTop,y=o.scrollLeft,Y?o.style.scrollSnapType=Y:o.style.removeProperty("scroll-snap-type"),o.scrollTop=x+1,o.scrollLeft=y+1,o.scrollTop=x,o.scrollLeft=y),t.xPrev=t.x,t.yPrev=t.y,I&&I.update()},kill:function(e){var t=e==="scrollTo",i=this._props.indexOf(e);return(t||e==="scrollTo_x")&&(this.skipX=1),(t||e==="scrollTo_y")&&(this.skipY=1),i>-1&&this._props.splice(i,1),!this._props.length}};T.max=S;T.getOffset=U;T.buildGetter=w;R()&&a.registerPlugin(T);v.registerPlugin(F,T);const z={props:{pictureAlbums:{type:Array,required:!0,default:()=>[]}},data(){return{currentIndex:0,currentHoverIndex:null,isScrolling:!1}},mounted(){this.initScrollTriggers()},beforeUnmount(){F.getAll().forEach(l=>l.kill())},computed:{selectorStyle(){const l=this.currentHoverIndex??this.currentIndex;return{width:`${100/this.pictureAlbums.length}%`,left:`${l*100/this.pictureAlbums.length}%`,transition:this.currentHoverIndex?"all 0.3s ease":"all 0.6s cubic-bezier(0.22, 1, 0.36, 1)"}}},methods:{handleHover(l){this.currentHoverIndex=l},emitSelectAlbum(l){this.$emit("select-album",l)},switchPanel(l){if(this.isScrolling)return;this.isScrolling=!0,this.currentIndex=l;const e=document.querySelector(`#panel-${l}`);if(!e){console.error(`Panel with id #panel-${l} not found.`),this.isScrolling=!1;return}const t=e.offsetTop;v.to(window,{duration:1,ease:"power2.inOut",scrollTo:{y:t,autoKill:!0},onComplete:()=>{this.isScrolling=!1,this.$emit("animation-complete")},onInterrupt:()=>{}})},initScrollTriggers(){v.utils.toArray(".panel").forEach(e=>{v.to(e,{yPercent:100,ease:"none",scrollTrigger:{trigger:e,start:"bottom bottom",end:"bottom top",scrub:!0}})})}}},J={class:"recent-preview"},Q={class:"panels"},Z=["id"],ee={class:"clip"},te={class:"serial-number"},se={class:"main-title"},le=n("br",null,null,-1),oe=n("span",{class:"tint"},null,-1),re={class:"picture-album-background"},ie=["src","alt"],ne={class:"note"},ce={class:"activeSlide"},ae={class:"slideTotal"},he={class:"picture-album-preview"},ue=["onMouseenter","onClick"],pe={class:"picture-album-cover"},fe=["src","alt"],de={class:"information-group"},me={class:"picture-album-name"},ge={class:"picture-album-type"},_e={class:"picture-album-location"},ye={class:"picture-album-time"};function xe(l,e,t,i,o,r){return p(),f("section",J,[n("div",Q,[(p(!0),f(A,null,P(t.pictureAlbums,(s,c)=>(p(),f("div",{key:c,class:k(["panel",["panel-"+c,{active:o.currentIndex===c}]]),id:"panel-"+c},[n("div",ee,[n("div",te,"0"+u(c+1),1),n("h1",se,[$(u(s.name),1),le,$(" "+u(s.time),1)]),n("button",{class:"cta-button",onClick:e[0]||(e[0]=(...h)=>l.scrollToPanel&&l.scrollToPanel(...h))},"Learn More")]),oe,n("div",re,[n("img",{src:s.cover,alt:s.name},null,8,ie)]),n("span",ne,[n("span",ce,u(c+1),1),$(" / "),n("span",ae,u(t.pictureAlbums.length),1)])],10,Z))),128))]),n("div",he,[(p(!0),f(A,null,P(t.pictureAlbums,(s,c)=>(p(),f("div",{key:c,class:"picture-album-item",style:L({"--delay":c*.1+"s"}),onMouseenter:h=>r.handleHover(c),onMouseleave:e[1]||(e[1]=h=>r.handleHover(null)),onClick:h=>r.emitSelectAlbum(c)},[n("div",{class:k(["item-container",{active:o.currentIndex===c}])},[n("div",pe,[n("img",{src:s.cover,alt:s.name},null,8,fe)]),n("div",de,[n("div",me,u(s.name),1),n("div",ge,u(s.type),1),n("div",_e,u(s.location),1),n("div",ye,u(s.time),1)])],2)],44,ue))),128)),n("div",{class:"selector",style:L(r.selectorStyle)},"Explode",4)])])}const ve=M(z,[["render",xe]]),Te={name:"PhotoWaterfall",props:{initialItems:{type:Array,default:()=>[]}},data(){return{items:[{src:"https://placeholder.im/250x200?text=Normal+1",alt:"Normal 1",title:"Normal 1"},{src:"https://placeholder.im/250x380?text=Tall+1",alt:"Tall 1",title:"Tall 1"},{src:"https://placeholder.im/510x200?text=Wide+1",alt:"Wide 1",title:"Wide 1"},{src:"https://placeholder.im/510x410?text=Big+1",alt:"Big 1",title:"Big 1"},{src:"https://placeholder.im/250x210?text=Normal+2",alt:"Normal 2",title:"Normal 2"},{src:"https://placeholder.im/250x400?text=Tall+2",alt:"Tall 2",title:"Tall 2"},{src:"https://placeholder.im/250x190?text=Normal+3",alt:"Normal 3",title:"Normal 3"},{src:"https://placeholder.im/520x420?text=Big+2",alt:"Big 2",title:"Big 2"},{src:"https://placeholder.im/500x200?text=Wide+2",alt:"Wide 2",title:"Wide 2"},{src:"https://placeholder.im/250x390?text=Tall+3",alt:"Tall 3",title:"Tall 3"},{src:"https://placeholder.im/250x205?text=Normal+4",alt:"Normal 4",title:"Normal 4"},{src:"https://placeholder.im/530x200?text=Wide+3",alt:"Wide 3",title:"Wide 3"}],hoveredIndex:null}},mounted(){this.initialItems.length>0&&(this.items=this.initialItems)},methods:{getImageClass(l){const e=l.src.match(/placeholder\.im\/(\d+)x(\d+)/);if(e){const t=parseInt(e[1],10),i=parseInt(e[2],10),o=1.4,r=1.4,s=400;if(t>s&&i>s)return"big";if(i/t>o)return"tall";if(t/i>r)return"wide"}return"normal"},handleMouseEnter(l){this.hoveredIndex=l},handleMouseLeave(){this.hoveredIndex=null}}},be={class:"photo-waterfall"},Se={class:"grid-wrapper"},we=["onMouseenter"],Ie=["src","alt"],Ae={class:"overlay-info"};function Pe(l,e,t,i,o,r){return p(),f("section",be,[n("div",Se,[(p(!0),f(A,null,P(o.items,(s,c)=>(p(),f("div",{key:c,class:k([r.getImageClass(s),{hovered:c===o.hoveredIndex,dimmed:o.hoveredIndex!==null&&c!==o.hoveredIndex}]),onMouseenter:h=>r.handleMouseEnter(c),onMouseleave:e[0]||(e[0]=(...h)=>r.handleMouseLeave&&r.handleMouseLeave(...h))},[n("img",{src:s.src,alt:s.alt},null,8,Ie),n("div",Ae,[n("h3",null,u(s.title),1),n("p",null,u(s.alt),1)])],42,we))),128))])])}const ke=M(Te,[["render",Pe],["__scopeId","data-v-0a4ab61e"]]);v.registerPlugin(T);const We={components:{PhotoIntro:ve,PhotoWaterfall:ke},data(){return{currentIndex:0,isWaterfallActive:!1,isScrolling:!1,pictureAlbums:[{name:"Cuffs of Mother",cover:"src/assets/images/adventure-bg0.jpg",type:"Scenery",location:"(Indians)",time:"2025.03.27"},{name:"The Verdon",cover:"src/assets/images/adventure-bg1.jpg",type:"Scenery",location:"(France)",time:"2025.03.27"},{name:"Gorge",cover:"src/assets/images/adventure-bg2.jpg",type:"Scenery",location:"(France)",time:"2025.03.27"},{name:"The Dolomites",cover:"src/assets/images/adventure-bg3.jpg",type:"Scenery",location:"(Reb)",time:"2025.03.27"}]}},computed:{totalSections(){return this.pictureAlbums.length+1}},mounted(){window.addEventListener("wheel",this.handleWheel,{passive:!1})},beforeUnmount(){window.removeEventListener("wheel",this.handleWheel)},methods:{handleWheel(l){var r;if(l.preventDefault(),this.isScrolling)return;const e=Math.sign(l.deltaY),t=this.$refs.photoIntro;if(!t)return;const i=t.currentIndex===this.pictureAlbums.length-1,o=t.currentIndex===0;if(this.isScrolling=!0,this.isWaterfallActive){const s=(r=this.$refs.photoWaterfall)==null?void 0:r.$el;if(!s){this.isScrolling=!1;return}const c=window.pageYOffset||document.documentElement.scrollTop,h=s.offsetTop;e<0&&c<=h+5?(this.isWaterfallActive=!1,this.currentIndex=this.pictureAlbums.length-1,t.switchPanel(this.currentIndex)):(window.scrollBy(0,l.deltaY),setTimeout(()=>this.isScrolling=!1,10))}else if(e>0&&i)this.scrollToWaterfall();else if(e<0&&o)this.isScrolling=!1;else{const s=t.currentIndex+e;t.switchPanel(s),this.currentIndex=Math.max(0,Math.min(s,this.pictureAlbums.length-1))}},selectAlbum(l){this.isScrolling||(this.isScrolling=!0,l>=0&&l<this.pictureAlbums.length?(this.isWaterfallActive=!1,this.currentIndex=l,this.$refs.photoIntro&&this.$refs.photoIntro.switchPanel(l)):l===this.pictureAlbums.length?this.scrollToWaterfall():this.isScrolling=!1)},scrollToWaterfall(){this.isWaterfallActive=!0,this.currentIndex=this.pictureAlbums.length;const l=this.$refs.photoWaterfall;if(l&&l.$el){const e=l.$el.offsetTop;console.log("Scrolling to waterfall at offsetTop:",e),v.to(window,{duration:1,ease:"power2.inOut",scrollTo:{y:e,autoKill:!0},onComplete:()=>{this.isScrolling=!1,console.log("Scroll to waterfall complete, scrolling unlocked.")}})}else console.error("PhotoWaterfall ref or $el not found!"),this.isScrolling=!1},onAnimationComplete(){this.isScrolling=!1,console.log("Animation complete, scrolling unlocked.")}}},Ce={class:"photograph"},$e={class:"control-dots"},Me=["onClick"];function Ne(l,e,t,i,o,r){const s=B("PhotoIntro"),c=B("PhotoWaterfall");return p(),f("main",Ce,[n("div",$e,[(p(!0),f(A,null,P(r.totalSections,(h,_)=>(p(),f("div",{key:_,class:k(["dot",{active:o.currentIndex===_}]),onClick:N=>r.selectAlbum(_)},null,10,Me))),128))]),X(s,{ref:"photoIntro","picture-albums":o.pictureAlbums,onSelectAlbum:r.selectAlbum,onAnimationComplete:r.onAnimationComplete},null,8,["picture-albums","onSelectAlbum","onAnimationComplete"]),X(c,{id:"photoWaterfall",class:"water-fall",ref:"photoWaterfall"},null,512)])}const Le=M(We,[["render",Ne],["__scopeId","data-v-c91015ae"]]);export{Le as default};
