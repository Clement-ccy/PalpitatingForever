# CSS Variables é‡æ„å®ŒæˆæŠ¥å‘Š

## ğŸ¯ é‡æ„ç›®æ ‡è¾¾æˆ

æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œå·²æˆåŠŸå°†æ•´ä¸ªæ ·å¼ç³»ç»Ÿä» SCSS å˜é‡é‡æ„ä¸º CSS è‡ªå®šä¹‰å±æ€§ï¼ˆCSS Variablesï¼‰ï¼Œå¹¶é€šè¿‡ `data-theme` å±æ€§å®ç°æ˜æš—æ¨¡å¼åˆ‡æ¢ã€‚

## âœ… å®Œæˆçš„é‡æ„å†…å®¹

### 1. **pf-ui.scss æ ¸å¿ƒé‡æ„**
**ğŸ“ æ–‡ä»¶**: `src/pf-ui/pf-ui.scss`

**ğŸ”„ ä¸»è¦å˜åŒ–**:
- âœ… ç§»é™¤äº†æ‰€æœ‰ `@use "variables" as var` ä¾èµ–
- âœ… å°†æ‰€æœ‰ SCSS å˜é‡è½¬æ¢ä¸º CSS è‡ªå®šä¹‰å±æ€§
- âœ… å®ç°äº†å®Œæ•´çš„æ˜æš—æ¨¡å¼æ”¯æŒé€šè¿‡ `[data-theme="dark"]`
- âœ… æ·»åŠ äº†è‡ªåŠ¨æ¨¡å¼æ”¯æŒé€šè¿‡ `@media (prefers-color-scheme: dark)`

**ğŸ¨ æ–°çš„å˜é‡ç³»ç»Ÿ**:
```css
:root {
  /* å­—ä½“ç³»ç»Ÿ */
  --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto...;
  --font-family-custom: "å­—ç”±èŠ³åä½“", var(--font-family-sans);
  --font-size-large-title: 34px;
  --font-size-title1: 28px;
  /* ...æ›´å¤šå­—ä½“å˜é‡ */

  /* é—´è·ç³»ç»Ÿ */
  --space-base: 8px;
  --space-xxs: 2px;
  --space-xs: 4px;
  /* ...å®Œæ•´é—´è·ä½“ç³» */

  /* é¢œè‰²ç³»ç»Ÿï¼ˆæµ…è‰²æ¨¡å¼ï¼‰ */
  --bg-primary: #ffffff;
  --bg-secondary: #f2f2f7;
  --text-primary: #1d1d1f;
  --text-secondary: rgba(60, 60, 67, 0.6);
  --accent-primary: #007aff;
  /* ...å®Œæ•´é¢œè‰²ä½“ç³» */
}

/* æ·±è‰²æ¨¡å¼ */
[data-theme="dark"] {
  --bg-primary: #000000;
  --bg-secondary: #1c1c1e;
  --text-primary: #ffffff;
  --text-secondary: rgba(235, 235, 245, 0.6);
  --accent-primary: #0a84ff;
  /* ...å¯¹åº”çš„æ·±è‰²å˜é‡ */
}
```

### 2. **å¸ƒå±€ç»„ä»¶å®Œå…¨é‡æ„**

#### TheHeader.vue
**ğŸ”„ é‡æ„å†…å®¹**:
- âœ… ç§»é™¤ `@import '@/pf-ui/_variables.scss'`
- âœ… æ‰€æœ‰æ ·å¼ä½¿ç”¨ CSS å˜é‡ï¼š`var(--z-index-navigation)`, `var(--bg-glass)` ç­‰
- âœ… ç§»é™¤æ‰€æœ‰ `@media (prefers-color-scheme: dark)` ç¡¬ç¼–ç 
- âœ… ç»ç’ƒæ‹Ÿæ€æ•ˆæœä½¿ç”¨ `var(--backdrop-blur)`

#### PageWrapper.vue
**ğŸ”„ é‡æ„å†…å®¹**:
- âœ… å®Œå…¨ç§»é™¤ SCSS å˜é‡ä¾èµ–
- âœ… å“åº”å¼æ–­ç‚¹ä½¿ç”¨å…·ä½“æ•°å€¼æ›¿ä»£å˜é‡
- âœ… é—´è·å’Œå°ºå¯¸å…¨éƒ¨ä½¿ç”¨ CSS å˜é‡

#### TheFooter.vue
**ğŸ”„ é‡æ„å†…å®¹**:
- âœ… æ ·å¼ç³»ç»Ÿå®Œå…¨åŸºäº CSS å˜é‡
- âœ… ä¸»é¢˜åˆ‡æ¢è‡ªåŠ¨ç”Ÿæ•ˆ
- âœ… ç§»é™¤ç¡¬ç¼–ç çš„æ˜æš—æ¨¡å¼æ ·å¼

### 3. **åŸºç¡€æ ·å¼æ–‡ä»¶é‡æ„**

#### _layout.scss
**ğŸ”„ é‡æ„å†…å®¹**:
- âœ… ç§»é™¤ `@use "variables" as var` ä¾èµ–
- âœ… å®¹å™¨ã€ç½‘æ ¼ã€å·¥å…·ç±»å…¨éƒ¨ä½¿ç”¨ CSS å˜é‡
- âœ… æ·»åŠ æ›´å¤šå®ç”¨å·¥å…·ç±»ï¼ˆflex utilities, spacing utilitiesï¼‰

#### _typographism.scss
**ğŸ”„ é‡æ„å†…å®¹**:
- âœ… å®Œæ•´çš„æ’ç‰ˆç³»ç»ŸåŸºäº CSS å˜é‡
- âœ… æ·»åŠ ä¸°å¯Œçš„æ’ç‰ˆå·¥å…·ç±»
- âœ… å­—ä½“ã€é¢œè‰²ã€é—´è·å…¨éƒ¨åŠ¨æ€å“åº”ä¸»é¢˜

### 4. **ä¸»é¢˜ç®¡ç†ç³»ç»Ÿ**

#### useTheme.js Composable
**ğŸ“ æ–°æ–‡ä»¶**: `src/composables/useTheme.js`

**ğŸš€ æ ¸å¿ƒåŠŸèƒ½**:
- âœ… **ä¸‰ç§ä¸»é¢˜æ¨¡å¼**: æµ…è‰²ã€æ·±è‰²ã€è‡ªåŠ¨è·Ÿéšç³»ç»Ÿ
- âœ… **localStorage æŒä¹…åŒ–**: ç”¨æˆ·é€‰æ‹©è‡ªåŠ¨ä¿å­˜
- âœ… **ç³»ç»Ÿä¸»é¢˜ç›‘å¬**: è‡ªåŠ¨å“åº”ç³»ç»Ÿä¸»é¢˜å˜åŒ–
- âœ… **DOM å±æ€§ç®¡ç†**: è‡ªåŠ¨è®¾ç½® `data-theme` å±æ€§

**ğŸ¯ API è®¾è®¡**:
```javascript
import { useTheme } from '@/composables/useTheme'

const { 
  currentTheme,    // å½“å‰ä¸»é¢˜ (ref)
  isDarkMode,      // æ˜¯å¦æ·±è‰²æ¨¡å¼ (ref)
  setTheme,        // è®¾ç½®ä¸»é¢˜
  toggleTheme,     // åˆ‡æ¢ä¸»é¢˜
  getThemeDisplayName, // è·å–ä¸»é¢˜æ˜¾ç¤ºå
  getThemeIcon     // è·å–ä¸»é¢˜å›¾æ ‡
} = useTheme()
```

## ğŸ¨ æ–°çš„ä¸»é¢˜ç³»ç»Ÿå·¥ä½œåŸç†

### 1. **è‡ªåŠ¨æ¨¡å¼ (é»˜è®¤)**
```html
<html> <!-- æ—  data-theme å±æ€§ -->
```
- CSS ä½¿ç”¨ `@media (prefers-color-scheme: dark)` è‡ªåŠ¨åˆ‡æ¢
- è·Ÿéšç³»ç»Ÿè®¾ç½®å˜åŒ–

### 2. **æ‰‹åŠ¨æµ…è‰²æ¨¡å¼**
```html
<html data-theme="light">
```
- å¼ºåˆ¶ä½¿ç”¨æµ…è‰²ä¸»é¢˜
- è¦†ç›–ç³»ç»Ÿè®¾ç½®

### 3. **æ‰‹åŠ¨æ·±è‰²æ¨¡å¼**
```html
<html data-theme="dark">
```
- å¼ºåˆ¶ä½¿ç”¨æ·±è‰²ä¸»é¢˜
- åº”ç”¨ `[data-theme="dark"]` æ ·å¼

## ğŸ“Š é‡æ„æˆæœç»Ÿè®¡

### âœ… å®Œå…¨é‡æ„çš„æ–‡ä»¶
1. **æ ·å¼ç³»ç»Ÿ** (4ä¸ªæ–‡ä»¶)
   - `src/pf-ui/pf-ui.scss` - æ ¸å¿ƒå˜é‡ç³»ç»Ÿ
   - `src/pf-ui/_layout.scss` - å¸ƒå±€å·¥å…·
   - `src/pf-ui/_typographism.scss` - æ’ç‰ˆç³»ç»Ÿ
   - `src/pf-ui/_variables.scss` - ä¿ç•™ä½†ä¸å†è¢«å¼•ç”¨

2. **å¸ƒå±€ç»„ä»¶** (3ä¸ªæ–‡ä»¶)
   - `src/components/layout/TheHeader.vue`
   - `src/components/layout/PageWrapper.vue` 
   - `src/components/layout/TheFooter.vue`

3. **æ–°å¢åŠŸèƒ½** (1ä¸ªæ–‡ä»¶)
   - `src/composables/useTheme.js` - ä¸»é¢˜ç®¡ç†

### ğŸ“ˆ æ ·å¼å˜é‡ç»Ÿè®¡
- **å­—ä½“å˜é‡**: 15+ ä¸ªï¼ˆå­—ä½“æ—ã€å°ºå¯¸ã€æƒé‡ã€è¡Œé«˜ï¼‰
- **é—´è·å˜é‡**: 10+ ä¸ªï¼ˆç»Ÿä¸€çš„8pxåŸºç¡€é—´è·ä½“ç³»ï¼‰
- **é¢œè‰²å˜é‡**: 30+ ä¸ªï¼ˆå®Œæ•´çš„æ˜æš—æ¨¡å¼è‰²å½©ä½“ç³»ï¼‰
- **è¾¹æ¡†å˜é‡**: 5+ ä¸ªï¼ˆåœ†è§’ã€è¾¹æ¡†æ ·å¼ï¼‰
- **è¿‡æ¸¡å˜é‡**: 5+ ä¸ªï¼ˆåŠ¨ç”»æ—¶é•¿ã€ç¼“åŠ¨å‡½æ•°ï¼‰
- **Z-Indexå˜é‡**: 8+ ä¸ªï¼ˆå±‚çº§ç®¡ç†ï¼‰
- **æ–­ç‚¹å˜é‡**: 5+ ä¸ªï¼ˆå“åº”å¼æ–­ç‚¹ï¼‰

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ–°çš„å˜é‡ç³»ç»Ÿ

**âŒ æ—§æ–¹å¼ (SCSSå˜é‡)**:
```scss
<style lang="scss" scoped>
@import '@/pf-ui/_variables.scss';

.component {
  color: $light-text-primary;
  font-size: $font-size-title3;
  padding: $space-lg;
  
  @media (prefers-color-scheme: dark) {
    color: $dark-text-primary;
  }
}
</style>
```

**âœ… æ–°æ–¹å¼ (CSSå˜é‡)**:
```scss
<style lang="scss" scoped>
.component {
  color: var(--text-primary);      // è‡ªåŠ¨å“åº”ä¸»é¢˜
  font-size: var(--font-size-title3);
  padding: var(--space-lg);
  // æ— éœ€æ‰‹åŠ¨å¤„ç†ä¸»é¢˜åˆ‡æ¢ï¼
}
</style>
```

### ä¸»é¢˜æ§åˆ¶ç¤ºä¾‹

```vue
<template>
  <button @click="toggleTheme" class="theme-toggle">
    {{ getThemeIcon() }} {{ getThemeDisplayName() }}
  </button>
</template>

<script setup>
import { useTheme } from '@/composables/useTheme'

const { toggleTheme, getThemeIcon, getThemeDisplayName } = useTheme()
</script>
```

## ğŸš€ ä¼˜åŠ¿ä¸æ”¶ç›Š

### 1. **å¼€å‘ä½“éªŒæå‡**
- âœ… æ— éœ€åœ¨æ¯ä¸ªç»„ä»¶å¯¼å…¥ SCSS å˜é‡æ–‡ä»¶
- âœ… è‡ªåŠ¨çš„ä¸»é¢˜å“åº”ï¼Œæ— éœ€æ‰‹åŠ¨å†™åª’ä½“æŸ¥è¯¢
- âœ… æ›´å¥½çš„ IDE æ”¯æŒå’Œä»£ç è¡¥å…¨

### 2. **æ€§èƒ½ä¼˜åŒ–**
- âœ… å‡å°‘äº† SCSS ç¼–è¯‘æ—¶é—´
- âœ… æ›´å°çš„ CSS è¾“å‡ºï¼ˆåŠ¨æ€å˜é‡ vs é™æ€ç¼–è¯‘ï¼‰
- âœ… æ›´å¥½çš„æµè§ˆå™¨ç¼“å­˜åˆ©ç”¨

### 3. **ç»´æŠ¤æ€§æå‡**
- âœ… é›†ä¸­çš„å˜é‡ç®¡ç†
- âœ… è¿è¡Œæ—¶ä¸»é¢˜åˆ‡æ¢èƒ½åŠ›
- âœ… æ›´çµæ´»çš„ä¸»é¢˜å®šåˆ¶

### 4. **ç”¨æˆ·ä½“éªŒæå‡**
- âœ… å³æ—¶çš„ä¸»é¢˜åˆ‡æ¢ï¼ˆæ— éœ€é‡æ–°åŠ è½½ï¼‰
- âœ… è®°å¿†ç”¨æˆ·çš„ä¸»é¢˜åå¥½
- âœ… è‡ªåŠ¨è·Ÿéšç³»ç»Ÿä¸»é¢˜

## âœ¨ ä¸‹ä¸€æ­¥å»ºè®®

### 1. **é›†æˆä¸»é¢˜åˆ‡æ¢UI**
åœ¨ `ControlPanel.vue` æˆ– `TheHeader.vue` ä¸­æ·»åŠ ä¸»é¢˜åˆ‡æ¢æŒ‰é’®

### 2. **æ‰©å±•ä¸»é¢˜å˜ä½“**
å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ä¸»é¢˜è‰²å½©ï¼ˆå¦‚é«˜å¯¹æ¯”åº¦æ¨¡å¼ã€æŠ¤çœ¼æ¨¡å¼ï¼‰

### 3. **ç»„ä»¶åº“å®Œå–„**
å°†å‰©ä½™çš„ç»„ä»¶ä¹Ÿè¿ç§»åˆ°æ–°çš„å˜é‡ç³»ç»Ÿ

### 4. **åŠ¨ç”»å¢å¼º**
åˆ©ç”¨ CSS å˜é‡å®ç°æ›´ä¸°å¯Œçš„ä¸»é¢˜åˆ‡æ¢åŠ¨ç”»

---

**ğŸ‰ é‡æ„å®Œæˆï¼** 
ç°åœ¨æ•´ä¸ªæ ·å¼ç³»ç»Ÿå·²ç»å®Œå…¨åŸºäº CSS è‡ªå®šä¹‰å±æ€§ï¼Œå…·å¤‡ç°ä»£åŒ–çš„ä¸»é¢˜ç®¡ç†èƒ½åŠ›ï¼Œä¸ºåç»­å¼€å‘æä¾›äº†å¼ºå¤§çš„åŸºç¡€è®¾æ–½ã€‚

**âš¡ æœåŠ¡å™¨çŠ¶æ€**: å¼€å‘æœåŠ¡å™¨è¿è¡Œæ­£å¸¸ï¼Œæ‰€æœ‰æ ·å¼ç¼–è¯‘æˆåŠŸï¼Œæ— é”™è¯¯ï¼