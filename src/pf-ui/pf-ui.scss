// src/pf-ui/pf-ui.scss
// -----------------------------------------------------------------------------
// PF UI - Main Stylesheet Entry Point (CSS Variables Based)
// -----------------------------------------------------------------------------

// 1. Import Layout and Typography Styles (without variables dependency)
@use "layout";
@use "typographism";

// 2. Define CSS Variables for Complete Design System
:root {
  // --- Typography ---
  --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
  --font-family-serif: "Times New Roman", Times, serif;
  --font-family-mono: "SF Mono", Monaco, Consolas, "Courier New", monospace;
  --font-family-custom: "字由芳华体", var(--font-family-sans);

  // Font Sizes
  --font-size-large-title: 34px;
  --font-size-title1: 28px;
  --font-size-title2: 22px;
  --font-size-title3: 20px;
  --font-size-headline: 17px;
  --font-size-body: 17px;
  --font-size-callout: 16px;
  --font-size-subhead: 15px;
  --font-size-footnote: 13px;
  --font-size-caption1: 12px;
  --font-size-caption2: 11px;

  // Font Weights
  --font-weight-thin: 100;
  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-black: 900;

  // Line Heights
  --line-height-tight: 1.2;
  --line-height-normal: 1.4;
  --line-height-loose: 1.6;

  // --- Spacing ---
  --space-base: 8px;
  --space-xxs: 2px;  // base * 0.25
  --space-xs: 4px;   // base * 0.5
  --space-sm: 6px;   // base * 0.75
  --space-md: 8px;   // base * 1
  --space-lg: 12px;  // base * 1.5
  --space-xl: 16px;  // base * 2
  --space-xxl: 24px; // base * 3
  --space-xxxl: 32px;// base * 4
  --space-xxxxl: 48px; // base * 6

  // --- Borders & Radius ---
  --border-width: 1px;
  --border-style: solid;
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  // --- Transitions & Animations ---
  --transition-duration-fast: 0.15s;
  --transition-duration-normal: 0.3s;
  --transition-duration-slow: 0.5s;
  --transition-timing-function: ease;

  // --- Breakpoints (for use in CSS only) ---
  --breakpoint-sm: 576px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 992px;
  --breakpoint-xl: 1200px;
  --breakpoint-xxl: 1400px;

  // --- Z-Index ---
  --z-index-back: -1;
  --z-index-base: 1;
  --z-index-content: 10;
  --z-index-navigation: 50;
  --z-index-overlay: 100;
  --z-index-modal: 110;
  --z-index-tooltip: 150;
  --z-index-loading: 200;

  // --- Layout ---
  --container-max-width: 1140px;
  --header-height: 80px;
  --footer-height: 60px;

  // --- Global Styles ---
  --global-radius: var(--radius-md);
  --global-transition: all var(--transition-duration-normal) var(--transition-timing-function);
}

// 3. Light Theme (Default) Colors
:root {
  // Backgrounds
  --bg-primary: #ffffff;
  --bg-secondary: #f2f2f7;
  --bg-tertiary: rgba(248, 249, 250, 0.8);
  --bg-glass: rgba(255, 255, 255, 0.8);
  --bg-glass-strong: rgba(255, 255, 255, 0.95);

  // Text Colors
  --text-primary: #1d1d1f;
  --text-secondary: rgba(60, 60, 67, 0.6);
  --text-tertiary: rgba(60, 60, 67, 0.3);
  --text-disabled: rgba(60, 60, 67, 0.2);

  // Accent Colors
  --accent-primary: #007aff;
  --accent-secondary: #5856d6;
  --accent-hover: rgba(0, 122, 255, 0.1);
  --accent-active: rgba(0, 122, 255, 0.15);

  // Separators / Borders
  --separator-primary: rgba(60, 60, 67, 0.29);
  --separator-secondary: rgba(60, 60, 67, 0.12);
  --separator-glass: rgba(255, 255, 255, 0.2);

  // Fills
  --fill-primary: rgba(120, 120, 128, 0.2);
  --fill-secondary: rgba(120, 120, 128, 0.16);
  --fill-tertiary: rgba(120, 120, 128, 0.12);

  // Semantic Colors
  --color-success: #34c759;
  --color-warning: #ffcc00;
  --color-error: #ff3b30;
  --color-info: var(--accent-primary);

  // Shadows
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 4px 20px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.15);
  --shadow-glass: 0 2px 20px rgba(0, 0, 0, 0.1);

  // Backdrop Filters
  --backdrop-blur: blur(20px);
  --backdrop-blur-strong: blur(40px);
}

// 4. Dark Theme Colors
[data-theme="dark"] {
  // Backgrounds
  --bg-primary: #000000;
  --bg-secondary: #1c1c1e;
  --bg-tertiary: rgba(28, 28, 30, 0.8);
  --bg-glass: rgba(28, 28, 30, 0.8);
  --bg-glass-strong: rgba(28, 28, 30, 0.95);

  // Text Colors
  --text-primary: #ffffff;
  --text-secondary: rgba(235, 235, 245, 0.6);
  --text-tertiary: rgba(235, 235, 245, 0.3);
  --text-disabled: rgba(235, 235, 245, 0.2);

  // Accent Colors
  --accent-primary: #0a84ff;
  --accent-secondary: #5e5ce6;
  --accent-hover: rgba(10, 132, 255, 0.15);
  --accent-active: rgba(10, 132, 255, 0.2);

  // Separators / Borders
  --separator-primary: rgba(84, 84, 88, 0.65);
  --separator-secondary: rgba(84, 84, 88, 0.32);
  --separator-glass: rgba(84, 84, 88, 0.65);

  // Fills
  --fill-primary: rgba(120, 120, 128, 0.36);
  --fill-secondary: rgba(120, 120, 128, 0.24);
  --fill-tertiary: rgba(120, 120, 128, 0.18);

  // Semantic Colors
  --color-success: #30d158;
  --color-warning: #ffd60a;
  --color-error: #ff453a;
  --color-info: var(--accent-primary);

  // Shadows
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 4px 20px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.5);
  --shadow-glass: 0 2px 20px rgba(0, 0, 0, 0.3);
}

// 5. Automatic Dark Mode (fallback)
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    // Apply dark theme variables when no explicit theme is set
    --bg-primary: #000000;
    --bg-secondary: #1c1c1e;
    --bg-tertiary: rgba(28, 28, 30, 0.8);
    --bg-glass: rgba(28, 28, 30, 0.8);
    --bg-glass-strong: rgba(28, 28, 30, 0.95);

    --text-primary: #ffffff;
    --text-secondary: rgba(235, 235, 245, 0.6);
    --text-tertiary: rgba(235, 235, 245, 0.3);
    --text-disabled: rgba(235, 235, 245, 0.2);

    --accent-primary: #0a84ff;
    --accent-secondary: #5e5ce6;
    --accent-hover: rgba(10, 132, 255, 0.15);
    --accent-active: rgba(10, 132, 255, 0.2);

    --separator-primary: rgba(84, 84, 88, 0.65);
    --separator-secondary: rgba(84, 84, 88, 0.32);
    --separator-glass: rgba(84, 84, 88, 0.65);

    --fill-primary: rgba(120, 120, 128, 0.36);
    --fill-secondary: rgba(120, 120, 128, 0.24);
    --fill-tertiary: rgba(120, 120, 128, 0.18);

    --color-success: #30d158;
    --color-warning: #ffd60a;
    --color-error: #ff453a;
    --color-info: var(--accent-primary);

    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 4px 20px rgba(0, 0, 0, 0.4);
    --shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.5);
    --shadow-glass: 0 2px 20px rgba(0, 0, 0, 0.3);
  }
}

// 6. Custom Font Face （Temporarily not use）
// @font-face {
//   font-family: '字由芳华体';
//   src: url('@/assets/fonts/字由芳华体.ttf') format('truetype');
//   font-weight: normal;
//   font-style: normal;
//   font-display: swap;
// }

// 7. Global Base Styles
html {
  font-family: var(--font-family-sans);
  font-size: 16px; // Base font size for rem calculations
  line-height: var(--line-height-normal);
  color: var(--text-primary);
  background-color: var(--bg-primary);
  transition: color var(--transition-duration-normal), background-color var(--transition-duration-normal);
}

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// 8. Utility Classes
.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-tertiary { color: var(--text-tertiary); }
.text-accent { color: var(--accent-primary); }

.bg-primary { background-color: var(--bg-primary); }
.bg-secondary { background-color: var(--bg-secondary); }
.bg-glass { 
  background: var(--bg-glass);
  backdrop-filter: var(--backdrop-blur);
  -webkit-backdrop-filter: var(--backdrop-blur);
}

.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }

.transition-all { transition: var(--global-transition); }
.radius-md { border-radius: var(--radius-md); }
.radius-lg { border-radius: var(--radius-lg); }